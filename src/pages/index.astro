---
import { getCollection, getEntry } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';

// Get homepage content
const homepage = await getEntry('homepage', 'homepage');
const hubs = await getCollection('hubs', ({ data }) => !data.draft);
const places = await getCollection('places', ({ data }) => !data.draft);
const routes = await getCollection('routes', ({ data }) => !data.draft);
---

<BaseLayout 
    title="Faith-Based Journeys and Pilgrimages" 
    description="A cultural, historical, and experiential guide to pilgrimage traditions, sacred places, and faith-based travel."
>
    <main class="max-w-4xl mx-auto px-4 py-12">
        <h1 class="text-4xl font-bold mb-8">Faith-Based Journeys and Pilgrimages</h1>
        
        <section class="mb-12">
            <p class="text-xl text-gray-600 mb-6">
                A cultural, historical, and experiential guide to understanding pilgrimage 
                as a human practice across cultures and centuries.
            </p>
        </section>

        {hubs.length > 0 && (
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">Explore Journeys</h2>
                <ul class="space-y-3">
                    {hubs.map((hub) => (
                        <li>
                            <a href={`/journeys/${hub.slug}`} class="text-blue-600 hover:underline text-lg">
                                {hub.data.title}
                            </a>
                            <p class="text-gray-500 text-sm">{hub.data.description}</p>
                        </li>
                    ))}
                </ul>
            </section>
        )}

        {places.length > 0 && (
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">Sacred Places</h2>
                <ul class="space-y-3">
                    {places.map((place) => (
                        <li>
                            <a href={`/places/${place.slug}`} class="text-blue-600 hover:underline text-lg">
                                {place.data.title}
                            </a>
                            <p class="text-gray-500 text-sm">{place.data.description}</p>
                        </li>
                    ))}
                </ul>
            </section>
        )}

        {routes.length > 0 && (
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">Pilgrimage Routes</h2>
                <ul class="space-y-3">
                    {routes.map((route) => (
                        <li>
                            <a href={`/routes/${route.slug}`} class="text-blue-600 hover:underline text-lg">
                                {route.data.title}
                            </a>
                            <p class="text-gray-500 text-sm">{route.data.description}</p>
                        </li>
                    ))}
                </ul>
            </section>
        )}
    </main>
</BaseLayout>
