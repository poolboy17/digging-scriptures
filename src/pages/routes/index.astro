---
/**
 * ROUTES INDEX: /routes
 */
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

const routes = await getCollection('routes', ({ data }) => !data.draft);
---

<BaseLayout 
    title="Pilgrimage Routes" 
    description="Explore historic pilgrimage routes and paths traveled by pilgrims across centuries."
    breadcrumbs={[
        { name: 'Home', url: '/' },
        { name: 'Pilgrimage Routes', url: '/routes' }
    ]}
>
    <section class="py-8 mb-10 border-b border-accent/30">
        <h1 class="mb-4">Pilgrimage Routes</h1>
        <p class="text-lg text-text-muted leading-relaxed max-w-2xl">Explore historic pilgrimage routes traveled across centuries.</p>
    </section>

    {routes.length > 0 ? (
        <div class="grid gap-4 sm:grid-cols-2">
            {routes.map((route) => (
                <a href={`/routes/${route.slug}`}
                   class="group block p-6 rounded-xl bg-surface/60 border border-accent/20 hover:border-primary/40 hover:shadow-md transition-all duration-300 no-underline">
                    <div class="flex items-center gap-2 text-xs text-text-light mb-2">
                        <span>{route.data.region}</span>
                        <span>·</span>
                        <span>{route.data.countries.join(', ')}</span>
                        {route.data.distanceKm && (
                            <span>· {route.data.distanceKm} km</span>
                        )}
                    </div>
                    <h3 class="text-lg font-semibold text-text-dark group-hover:text-primary transition-colors mb-2">
                        {route.data.title}
                    </h3>
                    <p class="text-sm text-text-muted leading-relaxed">{route.data.description}</p>
                </a>
            ))}
        </div>
    ) : (
        <div class="p-8 rounded-xl bg-surface/40 border border-accent/20 text-center">
            <p class="text-text-muted italic">Content coming soon. Check back for historic pilgrimage routes.</p>
        </div>
    )}
</BaseLayout>
